# ============================================================================
# HYSIO DEVELOPMENT ENVIRONMENT CONFIGURATION
# ============================================================================
#
# This is a fully annotated .env.example for the Hysio Medical Scribe platform.
# Copy this file to .env.local and fill in your actual values.
#
# QUICK START (Minimum Required):
# 1. OPENAI_API_KEY - Your OpenAI API key (GPT-4o for AI generation)
# 2. GROQ_API_KEY - Your Groq API key (Whisper for transcription - FREE)
#
# Everything else has sensible defaults for local development.
#
# ============================================================================

# ============================================================================
# üöÄ REQUIRED API KEYS (Get these first!)
# ============================================================================

# OpenAI API Key
# Used for: AI-powered clinical documentation generation (GPT-4o)
# Get it from: https://platform.openai.com/api-keys
# Cost: ~$0.002-0.005 per workflow (very affordable)
# CRITICAL: Without this, no AI generation will work
OPENAI_API_KEY=sk-your-openai-api-key-here

# Groq API Key
# Used for: Audio transcription (Whisper Large v3 Turbo)
# Get it from: https://console.groq.com/keys
# Cost: FREE (yes, completely free!)
# CRITICAL: Without this, audio transcription won't work
GROQ_API_KEY=gsk-your-groq-api-key-here

# ============================================================================
# üîß APPLICATION CONFIGURATION
# ============================================================================

# Environment
# Options: development, staging, production
# Development: Enables debug logging, hot reload, relaxed validation
NODE_ENV=development

# Disable Next.js telemetry (optional, recommended for privacy)
# Options: 0 (enabled), 1 (disabled)
NEXT_TELEMETRY_DISABLED=1

# Application URLs
# These define where your app is hosted (local dev vs production)
NEXTAUTH_URL=http://localhost:3000
NEXT_PUBLIC_APP_URL=http://localhost:3000
NEXT_PUBLIC_API_URL=http://localhost:3000/api

# Application Metadata
# Used in UI headers, error messages, analytics
NEXT_PUBLIC_APP_NAME="Hysio Medical Scribe"
NEXT_PUBLIC_APP_VERSION=2.0.0
NEXT_PUBLIC_APP_ENV=development

# ============================================================================
# üîê AUTHENTICATION & SECURITY (Future)
# ============================================================================
#
# NOTE: Authentication is not yet implemented in current version.
# These variables are prepared for future implementation.

# NextAuth.js Secret (generate with: openssl rand -base64 32)
# Used for: JWT signing, session encryption
# PRODUCTION: Use a strong, unique secret (32+ characters)
NEXTAUTH_SECRET=your-secret-key-here-min-32-characters

# NextAuth Internal URL (same as NEXTAUTH_URL for now)
NEXTAUTH_URL_INTERNAL=http://localhost:3000

# Session Secret (generate with: openssl rand -base64 32)
# Used for: Session token encryption
SESSION_SECRET=your-session-secret-key-here

# JWT Secret (generate with: openssl rand -base64 32)
# Used for: JWT token signing
JWT_SECRET=your-jwt-secret-key-here

# Encryption Key for PHI/PII Data (generate with: openssl rand -hex 16)
# Used for: Database encryption of patient data (when DB is added)
# CRITICAL in production: Must be exactly 32 characters for AES-256
ENCRYPTION_KEY=your-32-character-encryption-key
ENCRYPTION_ALGORITHM=aes-256-gcm

# Password Hashing Rounds (bcrypt)
# Higher = more secure but slower
# Development: 10-12, Production: 12-14
BCRYPT_ROUNDS=12

# ============================================================================
# üóÑÔ∏è DATABASE CONFIGURATION (Future)
# ============================================================================
#
# NOTE: Database is not yet implemented in current version.
# All data currently stored in browser localStorage.
# These variables are prepared for future PostgreSQL integration.

# Primary Database Connection String
# Format: postgresql://username:password@host:port/database
# Example: postgresql://hysio_user:secure_password@localhost:5432/hysio_dev
DATABASE_URL=postgresql://username:password@localhost:5432/hysio_dev

# Individual Database Connection Parameters (alternative to DATABASE_URL)
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=hysio_dev
POSTGRES_USER=username
POSTGRES_PASSWORD=password

# Database Connection Pool Configuration
# Min connections: Minimum connections kept open (2-5 for dev, 10-20 for prod)
# Max connections: Maximum connections allowed (10-20 for dev, 50-100 for prod)
# Idle timeout: How long idle connections stay open (ms)
DB_POOL_MIN=2
DB_POOL_MAX=20
DB_POOL_IDLE_TIMEOUT=10000

# Read Replica (Production only - for scaling read-heavy workloads)
# DATABASE_READ_URL=postgresql://username:password@read-replica:5432/hysio_prod

# ============================================================================
# üîÑ CACHE & SESSION STORAGE (Future)
# ============================================================================
#
# NOTE: Redis is not yet implemented in current version.
# Prepared for future caching and session management.

# Redis Connection String
# Format: redis://host:port or redis://:password@host:port
REDIS_URL=redis://localhost:6379

# Individual Redis Connection Parameters
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# Session Storage Configuration
# Options: memory (dev only), redis (production)
SESSION_STORE=redis
SESSION_TIMEOUT=86400  # 24 hours in seconds

# ============================================================================
# ü§ñ AI SERVICES CONFIGURATION
# ============================================================================

# OpenAI Configuration (GPT-4o for clinical content generation)
# Model: gpt-4o (recommended), gpt-4-turbo (alternative), gpt-3.5-turbo (cheaper but lower quality)
OPENAI_MODEL=gpt-4o

# Max Tokens: Maximum output length (3500-4500 recommended for clinical docs)
# Higher = more complete outputs, but slower and more expensive
OPENAI_MAX_TOKENS=4096

# Temperature: Creativity vs consistency (0.3-0.7 recommended for medical)
# Lower (0.1-0.3) = Very consistent, factual
# Medium (0.4-0.7) = Balanced (recommended for Hysio)
# Higher (0.8-1.0) = More creative, less consistent
OPENAI_TEMPERATURE=0.3

# Groq Configuration (Whisper for audio transcription)
# Model: whisper-large-v3-turbo (fastest, recommended) or whisper-large-v3 (slightly more accurate)
GROQ_MODEL=whisper-large-v3-turbo

# AI Safety & Compliance
# Enable content filtering, audit logging, and rate limiting
AI_CONTENT_FILTERING=true
AI_AUDIT_LOGGING=true
AI_RATE_LIMITING=true

# ============================================================================
# üìß EMAIL CONFIGURATION (Future)
# ============================================================================
#
# NOTE: Email functionality is not yet implemented in current version.
# Prepared for future SmartMail and notification features.

# SMTP Settings (for sending emails)
# Gmail example:
#   SMTP_HOST=smtp.gmail.com
#   SMTP_PORT=587
#   SMTP_SECURE=false (use STARTTLS)
#   SMTP_USER=your-email@gmail.com
#   SMTP_PASS=your-app-specific-password
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@domain.com
SMTP_PASS=your-email-password

# Email Templates
FROM_EMAIL=noreply@hysio.com
FROM_NAME="Hysio Medical Scribe"
SUPPORT_EMAIL=support@hysio.com

# ============================================================================
# üìÅ FILE STORAGE CONFIGURATION
# ============================================================================

# Local Storage (Development)
# Directory where uploaded files are temporarily stored
UPLOAD_DIR=./uploads

# Max File Size (bytes)
# 50MB = 50000000 bytes (sufficient for audio files)
MAX_FILE_SIZE=50000000

# Cloud Storage (Production - not yet implemented)
# AWS S3 Configuration
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_REGION=us-east-1
AWS_S3_BUCKET=hysio-files-prod

# Azure Blob Storage (Alternative to S3)
# AZURE_STORAGE_ACCOUNT=your-storage-account
# AZURE_STORAGE_KEY=your-storage-key
# AZURE_STORAGE_CONTAINER=hysio-files

# ============================================================================
# üìä LOGGING & MONITORING
# ============================================================================

# Log Level
# Options: error (minimal), warn, info (recommended), debug (verbose)
LOG_LEVEL=info

# Healthcare Compliance Logging
# HIPAA requires audit logs for all PHI access (7 years retention)
HIPAA_COMPLIANT_LOGGING=true
AUDIT_LOG_RETENTION_DAYS=2555  # 7 years in days (7 * 365)

# Application Performance Monitoring (Future - not yet implemented)
# APM_SERVER_URL=http://apm-server:8200
# APM_SERVICE_NAME=hysio-medical-scribe
# APM_ENVIRONMENT=development

# Error Tracking with Sentry (Future - not yet implemented)
# SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
# SENTRY_ENVIRONMENT=development

# Analytics (Future - not yet implemented)
# NEXT_PUBLIC_GOOGLE_ANALYTICS_ID=G-XXXXXXXXXX
# NEXT_PUBLIC_MIXPANEL_TOKEN=your-mixpanel-token

# ============================================================================
# üîå EXTERNAL INTEGRATIONS (Future)
# ============================================================================

# Electronic Health Records (EHR) Integration (not yet implemented)
# EHR_VENDOR=epic  # Options: epic, cerner, allscripts
# EHR_API_URL=https://fhir.epic.com/interconnect-fhir-oauth
# EHR_CLIENT_ID=your-ehr-client-id
# EHR_CLIENT_SECRET=your-ehr-client-secret

# Medical Coding Systems APIs (for DiagnoseCode module - not yet implemented)
ICD10_API_URL=https://api.icd10api.com
CPT_API_URL=https://api.ama-assn.org/cpt
SNOMED_API_URL=https://browser.ihtsdotools.org/snowstorm/snomed-ct

# Payment Processing (Future - for billing features)
# STRIPE_PUBLISHABLE_KEY=pk_test_...
# STRIPE_SECRET_KEY=sk_test_...
# STRIPE_WEBHOOK_SECRET=whsec_...

# ============================================================================
# üîí SECURITY & COMPLIANCE
# ============================================================================

# CORS Configuration
# In development: Allow all origins (*)
# In production: Specify exact allowed origins
CORS_ORIGIN=http://localhost:3000
CORS_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOWED_HEADERS=Content-Type,Authorization

# Rate Limiting (per IP address)
# Window: 15 minutes (900000 ms)
# Max Requests: 100 requests per window
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# Content Security Policy
# Report URI: Where CSP violations are sent
# Report Only: true = log only, false = enforce policy
CSP_REPORT_URI=/api/csp-report
CSP_REPORT_ONLY=false

# HIPAA Compliance Settings
# BAA Required: Business Associate Agreement enforcement
# Minimum Necessary: Only access minimum required data
# PHI Encryption: Encrypt all patient health information
HIPAA_BAA_REQUIRED=true
MINIMUM_NECESSARY_STANDARD=true
PHI_ENCRYPTION_REQUIRED=true

# Audit Trail Configuration
# Enable: Turn on/off audit logging
# Storage: Where to store audit logs (database, file, s3)
AUDIT_TRAIL_ENABLED=true
AUDIT_TRAIL_STORAGE=database

# ============================================================================
# üõ†Ô∏è DEVELOPMENT & DEBUGGING
# ============================================================================

# Debug Mode Flags
# Enable verbose logging for specific subsystems
DEBUG=false
DEBUG_SQL=false
DEBUG_AUTH=false

# Hot Reload (Development only)
# Automatically refresh browser when files change
HOT_RELOAD=true

# Development Tools
# Swagger UI: API documentation interface
# Health Checks: /api/health endpoint
ENABLE_SWAGGER_UI=false
ENABLE_HEALTH_CHECKS=true

# Test Configuration
# Separate database for running tests
TEST_DATABASE_URL=postgresql://username:password@localhost:5432/hysio_test
TEST_REDIS_URL=redis://localhost:6379/1

# ============================================================================
# üíæ BACKUP & DISASTER RECOVERY (Future)
# ============================================================================

# Backup Configuration
# Enable automated backups
BACKUP_ENABLED=true

# Backup Schedule (cron format: minute hour day month weekday)
# 0 2 * * * = Every day at 2:00 AM
BACKUP_SCHEDULE=0 2 * * *

# Backup Retention (days)
BACKUP_RETENTION_DAYS=30

# S3 Backup Storage
BACKUP_S3_BUCKET=hysio-backups
BACKUP_S3_REGION=us-east-1

# ============================================================================
# üö¶ FEATURE FLAGS
# ============================================================================

# Feature Toggles (enable/disable features without code changes)
FEATURE_VOICE_COMMANDS=true
FEATURE_REAL_TIME_COLLABORATION=false
FEATURE_ADVANCED_ANALYTICS=false
FEATURE_MOBILE_APP_SYNC=false

# Beta Features (available to beta users only)
BETA_AI_DIAGNOSIS_SUGGESTIONS=false
BETA_PREDICTIVE_CODING=false
BETA_SMART_TEMPLATES=true

# ============================================================================
# ‚ö° PERFORMANCE & SCALING
# ============================================================================

# Caching TTL (Time To Live in seconds)
# Cache TTL: How long to cache API responses (1 hour = 3600)
# Static File Cache: How long browsers cache static files (1 year = 31536000)
CACHE_TTL=3600
STATIC_FILE_CACHE_TTL=31536000

# Connection Timeouts (milliseconds)
# HTTP Timeout: Maximum time for HTTP requests (30 seconds)
# DB Timeout: Maximum time for database queries (5 seconds)
HTTP_TIMEOUT=30000
DB_TIMEOUT=5000

# Clustering (Production - for horizontal scaling)
# Enable running multiple Node.js instances
# Workers: 'auto' = number of CPU cores, or specify number
CLUSTER_ENABLED=false
CLUSTER_WORKERS=auto

# ============================================================================
# üè• HEALTHCARE-SPECIFIC CONFIGURATION
# ============================================================================

# Medical Record Number Format
# {YYYY} = year, {MM} = month, {NNNNNN} = sequential number
MRN_FORMAT=HYS-{YYYY}-{MM}-{NNNNNN}
ENCOUNTER_ID_FORMAT=ENC-{YYYYMMDD}-{NNNN}

# Clinical Data Standards
# FHIR Version: R4 (latest)
# HL7 Version: 2.5.1 (most common)
# DICOM: Medical imaging standard (not yet implemented)
FHIR_VERSION=R4
HL7_VERSION=2.5.1
DICOM_ENABLED=false

# Prescription Integration (Future)
# E-Prescribing: Electronic prescription sending
# DEA Number: Drug Enforcement Administration number (US)
# NPI Number: National Provider Identifier (US)
E_PRESCRIBING_ENABLED=false
# DEA_NUMBER=your-dea-number
# NPI_NUMBER=your-npi-number

# Quality Measures Reporting
# Enable quality measure tracking and reporting
QUALITY_REPORTING_ENABLED=true
CQM_REPORTING=true

# ============================================================================
# ‚öñÔ∏è REGULATORY COMPLIANCE
# ============================================================================

# HIPAA Configuration (United States)
# Covered Entity: Healthcare provider subject to HIPAA
# Business Associate: Service provider handling PHI
HIPAA_COVERED_ENTITY=true
HIPAA_BUSINESS_ASSOCIATE=false
MINIMUM_NECESSARY_RULE=true

# International Compliance
# GDPR: European Union (applicable in Netherlands)
# PIPEDA: Canada
# LGPD: Brazil
GDPR_APPLICABLE=true
PIPEDA_APPLICABLE=false
LGPD_APPLICABLE=false

# Audit Requirements
# Retain Logs: 7 years (HIPAA requirement)
# Encrypt Logs: Ensure audit logs are encrypted
# Immutable: Audit logs cannot be modified (blockchain-like)
RETAIN_AUDIT_LOGS_YEARS=7
ENCRYPT_AUDIT_LOGS=true
IMMUTABLE_AUDIT_TRAIL=true

# ============================================================================
# üîî NOTIFICATIONS (Future)
# ============================================================================

# Real-time Notifications
# WebSocket: Enable real-time bidirectional communication
WEBSOCKET_ENABLED=true
WEBSOCKET_PORT=3001

# Push Notifications (Firebase Cloud Messaging)
# FIREBASE_PROJECT_ID=your-firebase-project
# FIREBASE_PRIVATE_KEY=your-firebase-private-key
# FIREBASE_CLIENT_EMAIL=your-firebase-client-email

# Slack Integration (for internal alerts)
# SLACK_WEBHOOK_URL=https://hooks.slack.com/services/...
# SLACK_CHANNEL=#hysio-alerts

# ============================================================================
# üìù NOTES & REMINDERS
# ============================================================================
#
# SECURITY BEST PRACTICES:
# 1. NEVER commit .env.local or .env.production to version control
# 2. Use strong, unique passwords for all services (32+ characters)
# 3. Rotate API keys and secrets regularly (every 90 days)
# 4. Use environment-specific configurations (dev/staging/prod)
# 5. Enable audit logging in production environments
# 6. Always use HTTPS in production (TLS 1.2 or higher)
# 7. Implement proper access controls and RBAC
# 8. Conduct regular security audits and penetration testing
# 9. Keep all dependencies updated (npm audit, Dependabot)
# 10. Follow healthcare compliance requirements (HIPAA, GDPR, AVG)
#
# PRODUCTION CHECKLIST:
# - [ ] Change all secrets to production values
# - [ ] Set NODE_ENV=production
# - [ ] Enable HIPAA_COMPLIANT_LOGGING
# - [ ] Configure database connection string
# - [ ] Set up Redis for caching and sessions
# - [ ] Configure SMTP for email notifications
# - [ ] Set up AWS S3 or Azure Blob for file storage
# - [ ] Enable error monitoring (Sentry)
# - [ ] Enable performance monitoring (APM)
# - [ ] Configure backup schedule and retention
# - [ ] Set up SSL/TLS certificates
# - [ ] Configure CORS_ORIGIN to specific domains
# - [ ] Enable rate limiting
# - [ ] Configure WAF (Web Application Firewall)
# - [ ] Set up monitoring and alerting
# - [ ] Test disaster recovery procedures
#
# HELPFUL COMMANDS:
# Generate secure secret: openssl rand -base64 32
# Generate encryption key: openssl rand -hex 16
# Check PostgreSQL connection: psql -h localhost -U username -d hysio_dev
# Check Redis connection: redis-cli ping
# Test SMTP: npm run test:email
#
# SUPPORT:
# Documentation: https://docs.hysio.com (when available)
# Support Email: support@hysio.com
# Security Issues: security@hysio.com
# Handover Docs: /handover_bernard/ directory in this repository
#
# ============================================================================

# END OF CONFIGURATION FILE
